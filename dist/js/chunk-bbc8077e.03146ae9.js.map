{"version":3,"sources":["webpack:///./src/views/Signin.vue?e7c9","webpack:///src/views/Signin.vue","webpack:///./src/views/Signin.vue?62e0","webpack:///./src/views/Signin.vue","webpack:///./src/views/Signin.vue?8126"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","model","value","callback","$$v","activeName","expression","label","name","placeholder","clearable","email","show-password","password","type","_v","on","click","signin","register","staticRenderFns","Signinvue_type_script_lang_js_","data","user","errMessage","methods","_this","isSuccess","$db","collection","get","then","res","forEach","doc","$store","commit","list","_this$user","dispatch","displayResult","concat","_this2","set","$message","message","mounted","console","log","state","views_Signinvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Signin_vue_vue_type_style_index_0_id_155eb9df_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Signin_vue_vue_type_style_index_0_id_155eb9df_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-bbc8077e.03146ae9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signin-container text-center\"},[_c('div',{attrs:{\"id\":\"custom-alert\"}}),_c('div',{staticClass:\"form-signin\"},[_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"登入帳戶\",\"name\":\"signin\"}},[_c('div',{staticClass:\"input-section\"},[_c('el-input',{attrs:{\"placeholder\":\"請輸入帳號/電子信箱\",\"clearable\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('el-input',{attrs:{\"placeholder\":\"請輸入密碼\",\"show-password\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('label',[_c('input',{attrs:{\"type\":\"checkbox\",\"value\":\"remember-me\"}}),_vm._v(\" Remember me\\n        \")]),_c('button',{staticClass:\"btn btn-lg btn-primary btn-block\",attrs:{\"id\":\"btnLogin\"},on:{\"click\":_vm.signin}},[_vm._v(\"Sign in\")]),_c('button',{staticClass:\"btn btn-lg btn-info btn-block\",attrs:{\"id\":\"btngoogle\"}},[_vm._v(\"Sign in with Google\")])]),_c('el-tab-pane',{attrs:{\"label\":\"註冊新帳戶\",\"name\":\"register\"}},[_c('div',{staticClass:\"input-section\"},[_c('el-input',{attrs:{\"placeholder\":\"請輸入姓名\",\"clearable\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('el-input',{attrs:{\"placeholder\":\"請輸入帳號/電子信箱\",\"clearable\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('el-input',{attrs:{\"placeholder\":\"請輸入密碼\",\"show-password\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('label',[_c('input',{attrs:{\"type\":\"checkbox\",\"value\":\"remember-me\"}}),_vm._v(\" Remember me\\n        \")]),_c('button',{staticClass:\"btn btn-lg btn-secondary btn-block\",attrs:{\"id\":\"btnSignUp\"},on:{\"click\":_vm.register}},[_vm._v(\"New account\")])])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"signin-container text-center\">\n    <div id=\"custom-alert\">\n    </div>\n    <div class=\"form-signin\">\n      <el-tabs v-model=\"activeName\">\n        <el-tab-pane label=\"登入帳戶\" name=\"signin\">\n          <div class=\"input-section\">\n            <el-input placeholder=\"請輸入帳號/電子信箱\" v-model=\"email\" clearable></el-input>\n            <el-input placeholder=\"請輸入密碼\" v-model=\"password\" show-password></el-input>\n          </div>\n          <label>\n            <input type=\"checkbox\" value=\"remember-me\"> Remember me\n          </label>\n          <button class=\"btn btn-lg btn-primary btn-block\" id=\"btnLogin\" @click=\"signin\">Sign in</button>\n          <button class=\"btn btn-lg btn-info btn-block\" id=\"btngoogle\">Sign in with Google</button>\n        </el-tab-pane>\n        <el-tab-pane label=\"註冊新帳戶\" name=\"register\">\n          <div class=\"input-section\">\n            <el-input placeholder=\"請輸入姓名\" v-model=\"name\" clearable></el-input>\n            <el-input placeholder=\"請輸入帳號/電子信箱\" v-model=\"email\" clearable></el-input>\n            <el-input placeholder=\"請輸入密碼\" v-model=\"password\" show-password></el-input>\n          </div>\n          <label>\n            <input type=\"checkbox\" value=\"remember-me\"> Remember me\n          </label>\n          <button class=\"btn btn-lg btn-secondary btn-block\" id=\"btnSignUp\" @click=\"register\">New account</button>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: null,\n      name: '',\n      email: '',\n      password: '',\n      errMessage: '',\n      activeName: 'signin'\n    }\n  },\n\n  methods: {\n    signin() {\n      var isSuccess = false;\n      var errMessage = '';\n      this.$db.collection('users').get().then(res => {\n        res.forEach(doc => {\n          if(doc.data().email === this.email) {\n            if (doc.data().password === this.password) {\n              this.$store.commit('setAllProducts', doc.data().list);\n              this.user = {\n                name: doc.data().name,\n                id: doc.id,\n                email: this.email,\n                list: doc.data().list\n              }\n              isSuccess = true;\n            } else errMessage = '密碼輸入錯誤'\n          }\n        });\n        if (isSuccess) {\n          const { name, email, list, id } = this.user;\n          this.$store.dispatch('loginUser', { name, email, list, id });\n          this.displayResult(`登入成功，歡迎回來，${this.user.name}`, 'success');\n          // console.log(this.$store.state);\n          return;\n        }\n\n        if (errMessage === '') errMessage = '此帳號不存在';\n        this.displayResult(errMessage, 'error');\n      });\n    },\n    register() {\n      if (this.email === '' || this.password === '' || this.name === '') {\n        this.displayResult('請填寫完整資料', 'error');\n        return;\n      }\n      this.$db.collection('users').get().then(res => {\n        res.forEach(doc => {\n          if(doc.data().email === this.email) {\n            this.displayResult('此帳號已被註冊過', 'error');\n            return;\n          }\n        });\n        this.$db.collection('users').doc().set({\n          name: this.name,\n          email: this.email\n        })\n        this.$store.dispatch('loginUser', { name: this.name, email: this.email });\n        this.displayResult(`註冊成功，歡迎您，${this.name}`, 'success');\n      });\n    },\n    displayResult(errMessage, type) {\n      this.$message({ message: errMessage, type });\n    }\n  },\n\n  mounted() {\n    console.log(this.$store.state);\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\nbody {\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: flex;\n  -ms-flex-align: center;\n  -ms-flex-pack: center;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  justify-content: center;\n  padding-top: 40px;\n  padding-bottom: 40px;\n  background-color: #ffb677;\n}\n\n.signin-container {\n  margin-top: var(--header-height);\n}\n\n.form-signin {\n  width: 100%;\n  max-width: 330px;\n  padding: 15px;\n  margin: 0 auto;\n}\n.form-signin .checkbox {\n  font-weight: 400;\n}\n.form-signin .form-control {\n  position: relative;\n  box-sizing: border-box;\n  height: auto;\n  padding: 10px;\n  font-size: 16px;\n}\n.form-signin .form-control:focus {\n  z-index: 2;\n}\n.form-signin input[type=\"email\"] {\n  margin-bottom: -1px;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.form-signin input[type=\"password\"] {\n  margin-bottom: 10px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n\n.form-signin {\n  .input-section {\n    margin: 30px 0;\n    .el-input {\n      margin: 5px 0;\n      .el-input__inner {\n        border: none !important;\n        border-bottom: 1px solid #aa7070;\n      }\n    }\n  }\n  .el-tab-pane {\n    margin-top: 50px;\n  }\n}\n\n#custom-alert {\n  top: 10px;\n  position: fixed;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signin.vue?vue&type=template&id=155eb9df&scoped=true&\"\nimport script from \"./Signin.vue?vue&type=script&lang=js&\"\nexport * from \"./Signin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signin.vue?vue&type=style&index=0&id=155eb9df&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"155eb9df\",\n  null\n  \n)\n\ncomponent.options.__file = \"Signin.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=style&index=0&id=155eb9df&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=style&index=0&id=155eb9df&lang=scss&scoped=true&\""],"sourceRoot":""}