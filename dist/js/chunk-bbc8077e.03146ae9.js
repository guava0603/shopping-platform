(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bbc8077e"],{"4a33":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"signin-container text-center"},[a("div",{attrs:{id:"custom-alert"}}),a("div",{staticClass:"form-signin"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"登入帳戶",name:"signin"}},[a("div",{staticClass:"input-section"},[a("el-input",{attrs:{placeholder:"請輸入帳號/電子信箱",clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("el-input",{attrs:{placeholder:"請輸入密碼","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),e._v(" Remember me\n        ")]),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{id:"btnLogin"},on:{click:e.signin}},[e._v("Sign in")]),a("button",{staticClass:"btn btn-lg btn-info btn-block",attrs:{id:"btngoogle"}},[e._v("Sign in with Google")])]),a("el-tab-pane",{attrs:{label:"註冊新帳戶",name:"register"}},[a("div",{staticClass:"input-section"},[a("el-input",{attrs:{placeholder:"請輸入姓名",clearable:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("el-input",{attrs:{placeholder:"請輸入帳號/電子信箱",clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("el-input",{attrs:{placeholder:"請輸入密碼","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),e._v(" Remember me\n        ")]),a("button",{staticClass:"btn btn-lg btn-secondary btn-block",attrs:{id:"btnSignUp"},on:{click:e.register}},[e._v("New account")])])],1)],1)])},i=[],n=(a("7f7f"),a("ac6a"),a("f3e2"),a("cadf"),a("551c"),a("097d"),{data:function(){return{user:null,name:"",email:"",password:"",errMessage:"",activeName:"signin"}},methods:{signin:function(){var e=this,t=!1,a="";this.$db.collection("users").get().then(function(s){if(s.forEach(function(s){s.data().email===e.email&&(s.data().password===e.password?(e.$store.commit("setAllProducts",s.data().list),e.user={name:s.data().name,id:s.id,email:e.email,list:s.data().list},t=!0):a="密碼輸入錯誤")}),t){var i=e.user,n=i.name,l=i.email,o=i.list,c=i.id;return e.$store.dispatch("loginUser",{name:n,email:l,list:o,id:c}),void e.displayResult("登入成功，歡迎回來，".concat(e.user.name),"success")}""===a&&(a="此帳號不存在"),e.displayResult(a,"error")})},register:function(){var e=this;""!==this.email&&""!==this.password&&""!==this.name?this.$db.collection("users").get().then(function(t){t.forEach(function(t){t.data().email!==e.email||e.displayResult("此帳號已被註冊過","error")}),e.$db.collection("users").doc().set({name:e.name,email:e.email}),e.$store.dispatch("loginUser",{name:e.name,email:e.email}),e.displayResult("註冊成功，歡迎您，".concat(e.name),"success")}):this.displayResult("請填寫完整資料","error")},displayResult:function(e,t){this.$message({message:e,type:t})}},mounted:function(){console.log(this.$store.state)}}),l=n,o=(a("b239"),a("2877")),c=Object(o["a"])(l,s,i,!1,null,"155eb9df",null);c.options.__file="Signin.vue";t["default"]=c.exports},8993:function(e,t,a){},b239:function(e,t,a){"use strict";var s=a("8993"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-bbc8077e.03146ae9.js.map